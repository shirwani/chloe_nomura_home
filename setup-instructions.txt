# Point python to system python
alias python3="/opt/homebrew/bin/python3.12"

# Create python venv directory
python3 -m venv venv

# To launch python venv
source venv/bin/activate

# Set the python and pip alias to point to the venv/bin
alias python=/Users/macmini/projects/Cursor/chloe_nomura_home/venv/bin/python3
alias pip=/Users/macmini/projects/Cursor/chloe_nomura_home/venv/bin/pip3

# To pip install from requirements.txt (inside python venv)
pip install --upgrade pip
pip install cassandra-driver
pip install -r requirements.txt

# Run the app
python main.py


Uses SQLlite as database


server {
    listen 80;
    server_name 66-228-35-9.ip.linodeusercontent.com zakishirwani.com www.zakishirwani.com;

    location /puntacana/ {
        proxy_pass http://127.0.0.1:5001/; # Update port number
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        location /puntacana/static {
            alias /var/www/flask-apps/SampleFlaskAppOnLinode/static; # Update location
        }
    }

    location /ai/digits/ {
        proxy_pass http://127.0.0.1:5002/; # Update port number
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        location /ai/digits/static {
            alias /var/www/flask-apps/HandWrittenDigitRecognition/static; # Update location
        }
    }

    location /ai/animals/ {
        proxy_pass http://127.0.0.1:5003/; # Update port number
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        location /ai/animals/static {
            alias /var/www/flask-apps/DeepAnimalClassifier/static; # Update location
        }
    }

    location /ai/cats/ {
        proxy_pass http://127.0.0.1:5004/; # Update port number
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        location /ai/cats/static {
            alias /var/www/flask-apps/CatIdentifier/static; # Update location
        }
    }

    location /sp500/ {
        proxy_pass http://127.0.0.1:5006/; # Update port number
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        location /sp500/static {
            alias /var/www/flask-apps/Sp500_doublers/static; # Update location
        }
    }

    location /goai/ {
        # Remove /goai prefix before passing to Flask
        rewrite ^/goai/(.*)$ /$1 break;

        # Proxy to your Flask app (UPDATED PORT)
        proxy_pass http://127.0.0.1:5005;  # Changed from 5000 to 5005
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;

        # Handle static files
        location /goai/static/ {
            alias /var/www/flask-apps/goai/static/;  # Update this path
            expires 1y;
            add_header Cache-Control "public, immutable";
        }
    }
}
server {
    listen 80;
    server_name chloe_nomura_home.66-228-35-9.ip.linodeusercontent.com chloe_nomura_home.zakishirwani.com www.chloe_nomura_home.zakishirwani.com;

    location / {
        proxy_pass http://127.0.0.1:5007;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;

        # Rewrite any app redirect like "Location: /..." back under /chloe_nomura_home
        proxy_redirect ~^(/.*)$ /chloe_nomura_home$1;

        location /chloe_nomura_home/static/ {
            alias /var/www/flask-apps/chloe_nomura_home/static/;
        }
    }
}